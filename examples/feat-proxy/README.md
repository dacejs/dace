# 请求代理配置

开发过程中经常需要切换不同的 `api` 服务器地址来获取不同环境的测试数据，假如只是简单在工程中修改请求 URL 地址，有很大的风险，因为无法保证在正式发布前能将所有地址改回正确的地址，比较安全的方式是使用环境变量区分不同的配置，做到各种环境下配置隔离，这样在发布时就不会出现纰漏。下面的文档将介绍如何在工程中使用请求代理。

## 目标
把 `http://localhost:3000/api/users` 转发到 `http://localhost:3001/api/users`，后者是 `webpack-dev-server` 提供的一个模拟数据接口。


## 基本原理
1. 不同的环境配置不同的 `profiles.DACE_PATH_PROXY_TABLE` 配置，改配置指定代理规则文件的位置，不需要代理的环境（如线上环境）就不设置该配置项，或者设置为空。
1. webserver 启动时会加载代理规则文件，当发起网络请求时，如果命中规则的就会转发到指定的地址。

在工程根目录下（注意不是 `src` 目录）新建 `profiles` 目录，在 `profiles` 目录下分别为不同环境建立 profile 文件。
